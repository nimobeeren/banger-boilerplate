# ğŸ’¥ Banger Boilerplate ğŸ’¥

_Inspired by [nice-boys/product-boilerplate](https://github.com/nice-boys/product-boilerplate)_

## The Stack

- [Next.js](https://nextjs.org/)
- [Apollo Client](https://www.apollographql.com/docs/react/)
- [GraphQL Code Generator](https://graphql-code-generator.com/)
- [Nexus Schema](https://nexus.js.org/)
- [Prisma 2](https://www.prisma.io/)
- [Apollo Server](https://www.apollographql.com/docs/apollo-server/)

## Project structure

Here's an overview of the files and directories in the project.

```
.
â”œâ”€â”€ components/            // front-end components
â”‚   â””â”€â”€ ...
â”œâ”€â”€ graphql/
â”‚   â”œâ”€â”€ documents/         // GraphQL documents used by GraphQL codegen
â”‚   â”‚   â””â”€â”€ ...            // structure doesn't matter
â”‚   â”œâ”€â”€ generated/
â”‚   â”‚   â”œâ”€â”€ schema.graphql // Nexus schema output
â”‚   â”‚   â””â”€â”€ codegen.ts     // GraphQL codegen output
â”‚   â”œâ”€â”€ schema/            // code-first schema used by Nexus
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ createApolloClient.ts
â”‚   â””â”€â”€ createApolloServer.ts
â”œâ”€â”€ lib/                   // external source code
â”‚   â””â”€â”€ apollo.tsx         // Apollo Client integration with Next.js
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ graphql.ts     // GraphQL route
â”‚   â”œâ”€â”€ _app.tsx
â”‚   â””â”€â”€ index.tsx
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ .env               // db conection details
â”‚   â”œâ”€â”€ dev.db             // SQLite database
â”‚   â””â”€â”€ schema.prisma      // interface between db and Prisma Client
â”œâ”€â”€ public/
â”œâ”€â”€ codegen.yml            // GraphQL codegen config
â”œâ”€â”€ next-env.d.ts          // Next.js TypeScript types
â”œâ”€â”€ nodemon.json           // nodemon config
â”œâ”€â”€ package.json
â”œâ”€â”€ styles.css             // basic CSS
â””â”€â”€ ...
```

For the most important bits, here is some further explanation.

### ğŸ“‚ï¸ `graphql/`

Contains the GraphQL schema, Apollo client/server and generated artifacts.

#### ğŸ“‚ï¸ `graphql/documents/`

Contains `.graphql` files used to generate React hooks and types. These are exported from `graphql/generated/codegen.ts`. The file structure of this directory does not matter, all queries and mutations are automatically picked up by [GraphQL Code Generator](https://graphql-code-generator.com/).

#### ğŸ“‚ï¸ `graphql/generated/`

##### ğŸ“„ï¸ `graphql/generated/codegen.ts`

Output of GraphQL Code Generator. By default, this includes React hooks for queries and mutations from `/graphql/documents` and TypeScript types. This can be configured in `/codegen.yml`

##### ğŸ“„ï¸ `graphql/generated/schema.graphql`

GraphQL schema in Schema Definition Language, generated by Nexus. This is used by GraphQL Code Generator to generate types.

#### ğŸ“‚ï¸ `graphql/schema/`

Contains type definitions and resolvers, combined through a Nexus code-first schema. Usually contains an `index.ts` file that exports the output of `makeSchema` from `@nexus/schema`. For more complex schemas, I like to create a `types/` directory containing one `.ts` file for each type.

### ğŸ“‚ï¸ `lib/`

#### ğŸ“„ï¸ `lib/apollo.tsx`

Integrates Apollo Client with Next.js. For more information see the [Next.js Apollo example](https://github.com/vercel/next.js/tree/61ace6ca03c1c683eb80f5df9bb07efe92f0bbb5/examples/with-apollo).

### ğŸ“‚ï¸ `prisma/`

_TODO_
